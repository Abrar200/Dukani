{% extends "business/base.html" %}

{% load static %}

{% block slider %}

<div class="breadcrumb-block style-shared">
    <div class="breadcrumb-main bg-linear overflow-hidden">
        <div class="container lg:pt-[134px] pt-24 pb-10 relative">
            <div class="main-content w-full h-full flex flex-col items-center justify-center relative z-[1]">
                <div class="text-content">
                    <div class="heading2 text-center">Search Result</div>
                    <div class="link flex items-center justify-center gap-1 caption1 mt-3">
                        <a href='index-2.html'>Homepage</a>
                        <i class="ph ph-caret-right text-sm text-secondary2"></i>
                        <div class='text-secondary2 capitalize'>Search Result</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock slider %}

{% block content %}

<div class="shop-product search-result-block lg:py-20 md:py-14 py-10">
    <div class="container">
        <div class="heading flex flex-col items-center">
            <div class="heading4 text-center">Found results for "<span class="result">{{ query }}</span>"</div>
            <div class="input-block lg:w-1/2 sm:w-3/5 w-full md:h-[52px] h-[44px] sm:mt-8 mt-5">
                <div class='form-search w-full h-full relative'>
                    <form action="{% url 'search' %}" method="get">
                        <input name="q" type="text" placeholder='Search...' value="{{ query }}"
                            class='caption1 w-full h-full pl-4 md:pr-[150px] pr-32 rounded-xl border border-line' />
                        <button class='button-main absolute top-1 bottom-1 right-1 flex items-center justify-center'>
                            search
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <div class="list-product-block relative md:pt-10 pt-6">
            <div class="heading6">Product Search: <span class="result">{{ query }}</span></div>
            <div class="list-product hide-product-sold grid lg:grid-cols-3 grid-cols-2 sm:gap-[30px] gap-[20px] mt-7" data-item="9">
                {% for product in products %}
                    <div data-item="2" class="product-item grid-type">
                        <div class="product-main cursor-pointer block" data-item="2">
                            <div class="product-thumb bg-white relative overflow-hidden rounded-2xl">
                                <div class="product-tag text-button-uppercase bg-green px-3 py-0.5 inline-block rounded-full absolute top-3 left-3 z-[1]">New</div>
                                <div class="list-action-right absolute top-3 right-3 max-lg:hidden">
                                    <div class="add-wishlist-btn w-[32px] h-[32px] flex items-center justify-center rounded-full bg-white duration-300 relative">
                                        <div class="tag-action bg-black text-white caption2 px-1.5 py-0.5 rounded-sm">
                                            Add To Wishlist</div>
                                        <i class="ph ph-heart text-lg"></i>
                                    </div>
                                    <div class="compare-btn w-[32px] h-[32px] flex items-center justify-center rounded-full bg-white duration-300 relative mt-2">
                                        <div class="tag-action bg-black text-white caption2 px-1.5 py-0.5 rounded-sm">
                                            Compare Product</div>
                                        <i class="ph ph-arrow-counter-clockwise text-lg compare-icon"></i>
                                        <i class="ph ph-check-circle text-lg checked-icon"></i>
                                    </div>
                                </div>
                                    <div class="product-img w-full h-full aspect-[3/4]">
                                        <a href="{% url "product_detail" product.business.business_slug product.product_slug %}">
                                            <img key="0" class="w-full h-full object-cover duration-700" src="{{ product.image.url }}" alt="img"><img key="1" class="w-full h-full object-cover duration-700" src="{{ product.image2.url }}" alt="img">
                                        </a>
                                    </div>
                                <div class="list-action grid grid-cols-2 gap-3 px-5 absolute w-full bottom-5 max-lg:hidden">
                                    <div class="quick-view-btn w-full text-button-uppercase py-2 text-center rounded-full duration-300 bg-white hover:bg-black hover:text-white"
                                        data-product-slug="{{ product.product_slug }}"
                                        data-business-slug="{{ product.business.business_slug }}">
                                        Quick View
                                    </div>
                                        
                                    <div class="quick-shop-btn text-button-uppercase py-2 text-center rounded-full duration-500 bg-white hover:bg-black hover:text-white">
                                        Quick Shop
                                    </div>
                                    <div class="quick-shop-block absolute left-5 right-5 bg-white p-5 rounded-[20px]">
                                        <div class="list-size flex items-center justify-center flex-wrap gap-2">
                                            <div key="0" class="size-item w-10 h-10 rounded-full flex items-center justify-center text-button bg-white border border-line">XS</div>
                                            <div key="1" class="size-item w-10 h-10 rounded-full flex items-center justify-center text-button bg-white border border-line">S</div>
                                            <div key="2" class="size-item w-10 h-10 rounded-full flex items-center justify-center text-button bg-white border border-line">M</div>
                                            <div key="3" class="size-item w-10 h-10 rounded-full flex items-center justify-center text-button bg-white border border-line">L</div>
                                            <div key="4" class="size-item w-10 h-10 rounded-full flex items-center justify-center text-button bg-white border border-line">XL</div>
                                            <div key="5" class="size-item w-10 h-10 rounded-full flex items-center justify-center text-button bg-white border border-line">2XL</div>
                                        </div>
                                        <div class="add-cart-btn button-main w-full text-center rounded-full py-3 mt-4">Add To cart</div>
                                    </div>
                                </div>
                            </div>
                            <div class="product-infor mt-4 lg:mb-7">
                                <div class="product-sold sm:pb-4 pb-2">
                                    <div class="progress bg-line h-1.5 w-full rounded-full overflow-hidden relative">
                                        <div class="progress-sold bg-red absolute left-0 top-0 h-full" style="width: 11%"></div>
                                    </div>
                                    <div class="flex items-center justify-between gap-3 gap-y-1 flex-wrap mt-2">
                                        <div class="text-button-uppercase">
                                            <span class="text-secondary2 max-sm:text-xs">Sold:</span>
                                            <span class="max-sm:text-xs">23</span>
                                        </div>
                                        <div class="text-button-uppercase">
                                            <span class="text-secondary2 max-sm:text-xs">Available:</span>
                                            <span class="max-sm:text-xs">177</span>
                                        </div>
                                    </div>
                                </div>
                                <a href="{% url "product_detail" product.business.business_slug product.product_slug %}">
                                    <div class="product-name text-title duration-300">{{ product.name }}</div>
                                </a>
                                <div class="product-price-block flex items-center gap-2 flex-wrap mt-1 duration-300 relative z-[1]">
                                    <div class="product-price text-title">${{ product.price }}</div>
                                    <div class="product-origin-price caption1 text-secondary2">
                                        <del>$36.00</del>
                                    </div>
                                    <div class="product-sale caption1 font-medium bg-green px-3 py-0.5 inline-block rounded-full">
                                        -22%
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% empty %}
                    <p>No products found.</p>
                {% endfor %}
            </div>

            <div class="heading6 mt-10">Service Search: <span class="result">{{ query }}</span></div>
            <div class="list-product hide-product-sold grid lg:grid-cols-3 grid-cols-2 sm:gap-[30px] gap-[20px] mt-7" data-item="9">
                {% for service in services %}
                    <div data-item="2" class="product-item grid-type">
                        <div class="product-main cursor-pointer block" data-item="2">
                            <div class="product-thumb bg-white relative overflow-hidden rounded-2xl">
                                <div class="product-tag text-button-uppercase bg-green px-3 py-0.5 inline-block rounded-full absolute top-3 left-3 z-[1]">New</div>
                                <div class="list-action-right absolute top-3 right-3 max-lg:hidden">
                                    <div class="add-wishlist-btn w-[32px] h-[32px] flex items-center justify-center rounded-full bg-white duration-300 relative">
                                        <div class="tag-action bg-black text-white caption2 px-1.5 py-0.5 rounded-sm">
                                            Add To Wishlist</div>
                                        <i class="ph ph-heart text-lg"></i>
                                    </div>
                                    <div class="compare-btn w-[32px] h-[32px] flex items-center justify-center rounded-full bg-white duration-300 relative mt-2">
                                        <div class="tag-action bg-black text-white caption2 px-1.5 py-0.5 rounded-sm">
                                            Compare Service</div>
                                        <i class="ph ph-arrow-counter-clockwise text-lg compare-icon"></i>
                                        <i class="ph ph-check-circle text-lg checked-icon"></i>
                                    </div>
                                </div>
                                <div class="product-img w-full h-full aspect-[3/4]">
                                    <a href="{% url "service_detail" service.business.business_slug service.service_slug %}">
                                        <img key="0" class="w-full h-full object-cover duration-700" src="{{ service.image.url }}" alt="img">
                                    </a>
                                </div>
                            </div>
                            <div class="product-infor mt-4 lg:mb-7">
                                <a href="{% url "service_detail" service.business.business_slug service.service_slug %}">
                                    <div class="product-name text-title duration-300">{{ service.name }}</div>
                                </a>
                                <div class="product-price-block flex items-center gap-2 flex-wrap mt-1 duration-300 relative z-[1]">
                                    <div class="product-price text-title">${{ service.price }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% empty %}
                    <p>No services found.</p>
                {% endfor %}
            </div>

            <div class="heading6 mt-10">Business Search: <span class="result">{{ query }}</span></div>
            <div class="list-product hide-product-sold grid lg:grid-cols-3 grid-cols-2 sm:gap-[30px] gap-[20px] mt-7" data-item="9">
                {% for business in businesses %}
                    <div data-item="2" class="product-item grid-type">
                        <div class="product-main cursor-pointer block" data-item="2">
                            <div class="product-thumb bg-white relative overflow-hidden rounded-2xl">
                                <div class="product-tag text-button-uppercase bg-green px-3 py-0.5 inline-block rounded-full absolute top-3 left-3 z-[1]">New</div>
                                <div class="list-action-right absolute top-3 right-3 max-lg:hidden">
                                    
                                    
                                </div>
                                <div class="product-img w-full h-full aspect-[3/4]">
                                    <a href="{% url 'business_detail' business.business_slug %}">
                                        <img key="0" class="w-full h-full object-cover duration-700" src="{{ business.profile_picture.url }}" alt="img">
                                    </a>
                                </div>
                            </div>
                            <div class="product-infor mt-4 lg:mb-7">
                                <a href="{% url 'business_detail' business.business_slug %}">
                                    <div class="product-name text-title duration-300">{{ business.business_name }}</div>
                                </a>
                                <div class="product-price-block flex items-center gap-2 flex-wrap mt-1 duration-300 relative z-[1]">
                                    Business Type<div class="product-price text-title">{{ business.business_type }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% empty %}
                    <p>No businesses found.</p>
                {% endfor %}
            </div>
        </div>
    </div>
</div>


{% endblock content %}